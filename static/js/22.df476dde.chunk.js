(this.webpackJsonpd3ia=this.webpackJsonpd3ia||[]).push([[22],{198:function(t,e,n){"use strict";n.r(e);var r=n(46),a=n(11),c=n(24),i=n(94),o=n.n(i),u=n(163),s=n(158),l=n(223),f=n(117),d=n(201),j=n(228),b=n(202),h=(n(115),n(68)),O=n(81),p=n(96),m=n.n(p),v=n(2),y=n(141),g=n(21),k=10,w=10,x=2,M=10;function A(t){var e=t.timeseries,n=t.date,i=Object(v.useRef)([]),p=n||Object(c.g)(),m=Object(y.a)(),A=Object(r.a)(m,2),C=A[0],R=A[1].width;R=Math.min(R,120);var E=Object(v.useMemo)((function(){var t=Object.keys(e||{}).filter((function(t){return t<=p})),n=t[t.length-1],r=Object(h.a)(Object(O.a)(Object(c.j)(n),a.q),{representation:"date"});return t.filter((function(t){return t>=r}))}),[p,e]),J=Object(v.useCallback)((function(t,n){return Object(c.h)(null===e||void 0===e?void 0:e[t],"delta",n)}),[e]);return Object(v.useEffect)((function(){if(R){var t=E.length,e=R-w,n=75-x,r=Object(l.a)().clamp(!0).domain([Object(c.j)(E[0]||p),Object(c.j)(E[t-1])||p]).range([M,e]);i.current.forEach((function(e,i){var o,l=Object(d.a)(e),h=a.h[i],O=a.w[h].color,p=Object(u.a)(E,(function(t){return Math.abs(J(t,h))})),m=Object(f.a)().clamp(!0).domain([-p,p]).range([n,k]),v=Object(j.a)().curve(b.a).x((function(t){return r(Object(c.j)(t))})).y((function(t){return m(J(t,h))}));l.selectAll("path").data(t?[E]:[]).join((function(t){return t.append("path").attr("fill","none").attr("stroke",O+"99").attr("stroke-width",2.5).attr("d",v).attr("stroke-dasharray",(function(){return o=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",o).transition().delay(100).duration(2500).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition().duration(500).attrTween("d",(function(t){var e=Object(d.a)(this).attr("d"),n=v(t);return Object(s.a)(e,n)})).selection()})),l.selectAll("circle").data(t?[E[t-1]]:[]).join((function(t){return t.append("circle").attr("fill",O).attr("r",2.5).attr("cx",(function(t){return r(Object(c.j)(t))})).attr("cy",(function(t){return m(J(t,h))})).style("opacity",0).call((function(t){return t.transition().delay(2100).duration(500).style("opacity",1).attr("cx",(function(t){return r(Object(c.j)(t))})).attr("cy",(function(t){return m(J(t,h))}))}))}),(function(t){return t.transition().duration(500).attr("cx",(function(t){return r(Object(c.j)(t))})).attr("cy",(function(t){return m(J(t,h))})).style("opacity",1).selection()}))}))}}),[p,E,R,J]),Object(g.jsx)("div",{className:"Minigraph",children:a.h.map((function(t,e){return Object(g.jsx)("div",{className:o()("svg-parent"),ref:0===e?C:null,style:{width:"calc(".concat(100/a.h.length,"%)")},children:Object(g.jsx)("svg",{ref:function(t){i.current[e]=t},preserveAspectRatio:"xMidYMid meet",width:R,height:75})},t)}))})}var C=function(t,e){return!e.forceRender&&(!(e.timeseries||!t.timeseries)||!(e.timeseries&&!t.timeseries)&&(!!m()(e.stateCode,t.stateCode)&&!!m()(e.date,t.date)))};e.default=Object(v.memo)(A,C)}}]);
//# sourceMappingURL=22.df476dde.chunk.js.map