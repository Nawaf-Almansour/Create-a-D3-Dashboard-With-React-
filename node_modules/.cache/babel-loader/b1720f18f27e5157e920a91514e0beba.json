{"ast":null,"code":"import _slicedToArray from\"/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _this=this;import{MAP_META,STATE_NAMES}from\"../constants\";import{useState,useCallback,useRef}from\"react\";import{useTranslation}from\"react-i18next\";import{useHistory}from\"react-router-dom\";import{useTransition,animated}from\"react-spring\";import{useClickAway}from\"react-use\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StateDropdown=function StateDropdown(_ref){var stateCode=_ref.stateCode,trail=_ref.trail;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDropdown=_useState2[0],setShowDropdown=_useState2[1];var dropdownRef=useRef();var history=useHistory();var _useTranslation=useTranslation(),t=_useTranslation.t;useClickAway(dropdownRef,function(){setShowDropdown(false);});var transitions=useTransition(showDropdown,{from:{opacity:0,transform:\"translate3d(0, 2px, 0)\",zIndex:999},enter:{opacity:1,transform:\"translate3d(0, 0px, 0)\",zIndex:999},leave:{opacity:0,transform:\"translate3d(0, 2px, 0)\",zIndex:999},config:{mass:1,tension:210,friction:20}});var handleClick=useCallback(function(stateCodeItr){setShowDropdown(false);history.push(\"/state/\".concat(stateCodeItr));},[history]);return/*#__PURE__*/_jsxs(\"div\",{className:\"StateDropdown\",ref:dropdownRef,children:[/*#__PURE__*/_jsx(animated.h1,{className:\"state-name fadeInUp\",style:trail,onClick:setShowDropdown.bind(_this,!showDropdown),children:t(STATE_NAMES[stateCode])}),transitions(function(style,item){return item&&/*#__PURE__*/_jsx(animated.div,{className:\"dropdown\",style:style,children:Object.keys(MAP_META).filter(function(stateCodeItr){return stateCodeItr!==\"TT\"&&stateCodeItr!==stateCode;}).sort(function(code1,code2){return STATE_NAMES[code1].localeCompare(STATE_NAMES[code2]);}).map(function(stateCodeItr){return/*#__PURE__*/_jsx(\"h1\",{className:\"item\",onClick:handleClick.bind(_this,stateCodeItr),children:t(STATE_NAMES[stateCodeItr])},stateCodeItr);})});}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"backdrop\"})]});};export default StateDropdown;","map":{"version":3,"sources":["/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/StateDropdown.js"],"names":["MAP_META","STATE_NAMES","useState","useCallback","useRef","useTranslation","useHistory","useTransition","animated","useClickAway","StateDropdown","stateCode","trail","showDropdown","setShowDropdown","dropdownRef","history","t","transitions","from","opacity","transform","zIndex","enter","leave","config","mass","tension","friction","handleClick","stateCodeItr","push","bind","style","item","Object","keys","filter","sort","code1","code2","localeCompare","map"],"mappings":"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","sourcesContent":["import { MAP_META, STATE_NAMES } from \"../constants\";\n\nimport { useState, useCallback, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory } from \"react-router-dom\";\nimport { useTransition, animated } from \"react-spring\";\nimport { useClickAway } from \"react-use\";\n\nconst StateDropdown = ({ stateCode, trail }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef();\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  useClickAway(dropdownRef, () => {\n    setShowDropdown(false);\n  });\n\n  const transitions = useTransition(showDropdown, {\n    from: {\n      opacity: 0,\n      transform: \"translate3d(0, 2px, 0)\",\n      zIndex: 999,\n    },\n    enter: {\n      opacity: 1,\n      transform: \"translate3d(0, 0px, 0)\",\n      zIndex: 999,\n    },\n    leave: {\n      opacity: 0,\n      transform: \"translate3d(0, 2px, 0)\",\n      zIndex: 999,\n    },\n    config: {\n      mass: 1,\n      tension: 210,\n      friction: 20,\n    },\n  });\n\n  const handleClick = useCallback(\n    (stateCodeItr) => {\n      setShowDropdown(false);\n      history.push(`/state/${stateCodeItr}`);\n    },\n    [history]\n  );\n\n  return (\n    <div className=\"StateDropdown\" ref={dropdownRef}>\n      <animated.h1\n        className=\"state-name fadeInUp\"\n        style={trail}\n        onClick={setShowDropdown.bind(this, !showDropdown)}\n      >\n        {t(STATE_NAMES[stateCode])}\n      </animated.h1>\n\n      {transitions(\n        (style, item) =>\n          item && (\n            <animated.div className=\"dropdown\" {...{ style }}>\n              {Object.keys(MAP_META)\n                .filter(\n                  (stateCodeItr) =>\n                    stateCodeItr !== \"TT\" && stateCodeItr !== stateCode\n                )\n                .sort((code1, code2) =>\n                  STATE_NAMES[code1].localeCompare(STATE_NAMES[code2])\n                )\n                .map((stateCodeItr) => (\n                  <h1\n                    key={stateCodeItr}\n                    className=\"item\"\n                    onClick={handleClick.bind(this, stateCodeItr)}\n                  >\n                    {t(STATE_NAMES[stateCodeItr])}\n                  </h1>\n                ))}\n            </animated.div>\n          )\n      )}\n\n      {showDropdown && <div className=\"backdrop\"></div>}\n    </div>\n  );\n};\n\nexport default StateDropdown;\n"]},"metadata":{},"sourceType":"module"}