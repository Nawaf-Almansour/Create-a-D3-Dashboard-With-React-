{"ast":null,"code":"import{LEVEL_STATISTICS,STATISTIC_CONFIGS,SPRING_CONFIG_NUMBERS}from'../constants';import{capitalize,formatNumber,getStatistic}from'../utils/commonFunctions';import{HeartFillIcon}from'@primer/octicons-react';import classnames from'classnames';import equal from'fast-deep-equal';import{memo,useMemo}from'react';import{useTranslation}from'react-i18next';import{animated,useSpring}from'react-spring';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PureLevelItem(_ref){var statistic=_ref.statistic,total=_ref.total,delta=_ref.delta;var _useTranslation=useTranslation(),t=_useTranslation.t;var spring=useSpring({total:total,delta:delta,config:SPRING_CONFIG_NUMBERS});var statisticConfig=STATISTIC_CONFIGS[statistic];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:t(capitalize(statisticConfig.displayName))}),/*#__PURE__*/_jsx(animated.h4,{children:statistic!=='active'?delta>0?/* Add space after + because react-spring regex bug */spring.delta.to(function(delta){return\"+ \".concat(formatNumber(delta,statisticConfig.format!=='short'?statisticConfig.format:'long',statistic));}):/*#__PURE__*/_jsx(HeartFillIcon,{size:9,verticalAlign:2}):\"\\xA0\"}),/*#__PURE__*/_jsx(animated.h1,{children:spring.total.to(function(total){return formatNumber(total,statisticConfig.format!=='short'?statisticConfig.format:'long',statistic);})})]});}var LevelItem=/*#__PURE__*/memo(PureLevelItem);function Level(_ref2){var data=_ref2.data;var trail=useMemo(function(){var styles=[];LEVEL_STATISTICS.map(function(statistic,index){styles.push({animationDelay:\"\".concat(750+index*250,\"ms\"),width:\"calc(\".concat(100/LEVEL_STATISTICS.length,\"%)\")});return null;});return styles;},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Level\",children:LEVEL_STATISTICS.map(function(statistic,index){return/*#__PURE__*/_jsx(animated.div,{className:classnames('level-item',\"is-\".concat(statistic),'fadeInUp'),style:trail[index],children:/*#__PURE__*/_jsx(LevelItem,{statistic:statistic,total:getStatistic(data,'total',statistic),delta:getStatistic(data,'delta',statistic)})},index);})});}var isEqual=function isEqual(prevProps,currProps){if(!equal(prevProps.data,currProps.data)){return false;}return true;};export default/*#__PURE__*/memo(Level,isEqual);","map":{"version":3,"sources":["/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/Level.js"],"names":["LEVEL_STATISTICS","STATISTIC_CONFIGS","SPRING_CONFIG_NUMBERS","capitalize","formatNumber","getStatistic","HeartFillIcon","classnames","equal","memo","useMemo","useTranslation","animated","useSpring","PureLevelItem","statistic","total","delta","t","spring","config","statisticConfig","displayName","to","format","LevelItem","Level","data","trail","styles","map","index","push","animationDelay","width","length","isEqual","prevProps","currProps"],"mappings":"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","sourcesContent":["import {\n    LEVEL_STATISTICS,\n    STATISTIC_CONFIGS,\n    SPRING_CONFIG_NUMBERS,\n} from '../constants';\nimport {capitalize, formatNumber, getStatistic} from '../utils/commonFunctions';\n\nimport {HeartFillIcon} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport {memo, useMemo} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {animated, useSpring} from 'react-spring';\n\nfunction PureLevelItem({statistic, total, delta}) {\n    const {t} = useTranslation();\n    const spring = useSpring({\n        total: total,\n        delta: delta,\n        config: SPRING_CONFIG_NUMBERS,\n    });\n\n    const statisticConfig = STATISTIC_CONFIGS[statistic];\n\n    return (\n        <>\n            <h5>{t(capitalize(statisticConfig.displayName))}</h5>\n            <animated.h4>\n                {statistic !== 'active' ? (\n                    delta > 0 ? (\n                        /* Add space after + because react-spring regex bug */\n                        spring.delta.to(\n                            (delta) =>\n                                `+ ${formatNumber(\n                                    delta,\n                                    statisticConfig.format !== 'short'\n                                        ? statisticConfig.format\n                                        : 'long',\n                                    statistic\n                                )}`\n                        )\n                    ) : (\n                        <HeartFillIcon size={9} verticalAlign={2} />\n                    )\n                ) : (\n                    '\\u00A0'\n                )}\n            </animated.h4>\n            <animated.h1>\n                {spring.total.to((total) =>\n                    formatNumber(\n                        total,\n                        statisticConfig.format !== 'short'\n                            ? statisticConfig.format\n                            : 'long',\n                        statistic\n                    )\n                )}\n            </animated.h1>\n        </>\n    );\n}\n\nconst LevelItem = memo(PureLevelItem);\n\nfunction Level({data}) {\n    const trail = useMemo(() => {\n        const styles = [];\n\n        LEVEL_STATISTICS.map((statistic, index) => {\n            styles.push({\n                animationDelay: `${750 + index * 250}ms`,\n                width: `calc(${100 / LEVEL_STATISTICS.length}%)`,\n            });\n            return null;\n        });\n        return styles;\n    }, []);\n\n    return (\n        <div className=\"Level\">\n            {LEVEL_STATISTICS.map((statistic, index) => (\n                <animated.div\n                    key={index}\n                    className={classnames('level-item', `is-${statistic}`, 'fadeInUp')}\n                    style={trail[index]}\n                >\n                    <LevelItem\n                        {...{statistic}}\n                        total={getStatistic(data, 'total', statistic)}\n                        delta={getStatistic(data, 'delta', statistic)}\n                    />\n                </animated.div>\n            ))}\n        </div>\n    );\n}\n\nconst isEqual = (prevProps, currProps) => {\n    if (!equal(prevProps.data, currProps.data)) {\n        return false;\n    }\n    return true;\n};\n\nexport default memo(Level, isEqual);\n"]},"metadata":{},"sourceType":"module"}