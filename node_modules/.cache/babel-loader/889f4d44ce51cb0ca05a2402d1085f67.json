{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport produce from 'immer';\nimport { useState } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport useSWR from 'swr';\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n  _s();\n\n  const [options, setOptions] = useState(swrOptions);\n  const {\n    data,\n    isValidating,\n    error,\n    ...rest\n  } = useSWR(key, fetcher, options, ...args);\n  useUpdateEffect(() => {\n    setOptions(produce(options, draftOptions => {\n      draftOptions.initialData = data;\n    }));\n  }, [data]);\n  return { ...rest,\n    isValidating,\n    error,\n    data\n  };\n}\n\n_s(useStickySWR, \"1KPkcfrQB80UsoVsg5GaDkL60HE=\", false, function () {\n  return [useSWR, useUpdateEffect];\n});\n\nexport default useStickySWR;","map":{"version":3,"sources":["/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/d3ia/src/hooks/useIsVisible.js"],"names":["produce","useState","useUpdateEffect","useSWR","useStickySWR","key","fetcher","swrOptions","args","options","setOptions","data","isValidating","error","rest","draftOptions","initialData"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,SAAQC,eAAR,QAA8B,WAA9B;AACA,OAAOC,MAAP,MAAmB,KAAnB;AAEA,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAA2BC,OAA3B,EAAoCC,UAApC,EAAgD,GAAGC,IAAnD,EAAyD;AAAA;;AAC5D,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAACM,UAAD,CAAtC;AAEA,QAAM;AAACI,IAAAA,IAAD;AAAOC,IAAAA,YAAP;AAAqBC,IAAAA,KAArB;AAA4B,OAAGC;AAA/B,MAAuCX,MAAM,CAC/CE,GAD+C,EAE/CC,OAF+C,EAG/CG,OAH+C,EAI/C,GAAGD,IAJ4C,CAAnD;AAOAN,EAAAA,eAAe,CAAC,MAAM;AAClBQ,IAAAA,UAAU,CACNV,OAAO,CAACS,OAAD,EAAWM,YAAD,IAAkB;AAC/BA,MAAAA,YAAY,CAACC,WAAb,GAA2BL,IAA3B;AACH,KAFM,CADD,CAAV;AAKH,GANc,EAMZ,CAACA,IAAD,CANY,CAAf;AAQA,SAAO,EACH,GAAGG,IADA;AAEHF,IAAAA,YAFG;AAGHC,IAAAA,KAHG;AAIHF,IAAAA;AAJG,GAAP;AAMH;;GAxBeP,Y;UAGiCD,M,EAO7CD,e;;;AAgBJ,eAAeE,YAAf","sourcesContent":["import produce from 'immer';\nimport {useState} from 'react';\nimport {useUpdateEffect} from 'react-use';\nimport useSWR from 'swr';\n\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n    const [options, setOptions] = useState(swrOptions);\n\n    const {data, isValidating, error, ...rest} = useSWR(\n        key,\n        fetcher,\n        options,\n        ...args\n    );\n\n    useUpdateEffect(() => {\n        setOptions(\n            produce(options, (draftOptions) => {\n                draftOptions.initialData = data;\n            })\n        );\n    }, [data]);\n\n    return {\n        ...rest,\n        isValidating,\n        error,\n        data,\n    };\n}\n\nexport default useStickySWR;\n"]},"metadata":{},"sourceType":"module"}