{"code":"(this.webpackJsonpd3ia=this.webpackJsonpd3ia||[]).push([[16],{147:function(t,e,n){\"use strict\";var c=n(2),i=n(91),a=i.a?c.useLayoutEffect:c.useEffect,o={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};e.a=i.a&&\"undefined\"!==typeof window.ResizeObserver?function(){var t=Object(c.useState)(null),e=t[0],n=t[1],i=Object(c.useState)(o),r=i[0],s=i[1],u=Object(c.useMemo)((function(){return new window.ResizeObserver((function(t){if(t[0]){var e=t[0].contentRect,n=e.x,c=e.y,i=e.width,a=e.height,o=e.top,r=e.left,u=e.bottom,f=e.right;s({x:n,y:c,width:i,height:a,top:o,left:r,bottom:u,right:f})}}))}),[]);return a((function(){if(e)return u.observe(e),function(){u.disconnect()}}),[e]),[n,r]}:function(){return[i.b,o]}},197:function(t,e,n){\"use strict\";n.r(e);var c=n(52),i=n(46),a=n(11),o=n(94),r=n.n(o),s=n(2),u=n(54),f=n.n(u),l=n(98),h=n(147),b=n(21),d=void 0,O=function(t){var e=t.mapStatistic,n=t.setMapStatistic,o=Object(h.a)(),u=Object(i.a)(o,2),O=u[0],j=u[1].width,p=Object(s.useState)(!1),g=Object(i.a)(p,2),v=g[0],m=g[1],w=Object(s.useState)(0),x=Object(i.a)(w,2),S=x[0],y=x[1],k=a.h.indexOf(e)>=0,R=Object(l.useSpring)((function(){return{opacity:0,background:\"\".concat(a.w[e].color,\"20\"),transform:k?\"translate3d(\".concat(j*a.h.indexOf(e)/a.h.length,\"px, 0, 0)\"):null,width:\"calc(\".concat(100/a.h.length,\"%)\"),config:l.config.gentle}})),E=Object(i.a)(R,2),M=E[0],N=E[1];Object(s.useEffect)((function(){if(j>0){var t=a.h.indexOf(e)>=0;f.a.unstable_batchedUpdates((function(){var n;N.start({transform:t?\"translate3d(\".concat(j*a.h.indexOf(e)/a.h.length,\"px, 0, 0)\"):null,opacity:t?1:0,background:t?\"\".concat(null===(n=a.w[e])||void 0===n?void 0:n.color,\"20\"):null,delay:0===S?1500:0,onStart:m.bind(d,!0),onRest:m.bind(d,!1)})}))}}),[S,e,N,j]);var z=Object(s.useCallback)((function(t){y((function(t){return t+1})),n(t)}),[n]);return Object(b.jsxs)(\"div\",{className:\"MapSwitcher\",ref:O,children:[Object(b.jsx)(l.animated.div,{className:\"highlight\",style:M}),a.h.map((function(t,e){return Object(b.jsx)(\"div\",{className:r()(\"clickable\",Object(c.a)({},\"is-\".concat(t),!v)),onClick:z.bind(d,t),style:{width:\"calc(\".concat(100/a.h.length,\"%)\")}},e)}))]})},j=function(t,e){return t.mapStatistic===e.mapStatistic};e.default=Object(s.memo)(O,j)}}]);","name":"static/js/16.7ab5357c.chunk.js","map":{"version":3,"sources":["static/js/16.7ab5357c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","react","util","esm_useIsomorphicLayoutEffect","defaultState","x","y","width","height","top","left","bottom","right","window","ResizeObserver","_a","Object","element","ref","_b","rect","setRect","observer","entries","contentRect","top_1","observe","disconnect","r","_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_constants__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_3___default","n","react__WEBPACK_IMPORTED_MODULE_4__","react_dom__WEBPACK_IMPORTED_MODULE_5__","react_dom__WEBPACK_IMPORTED_MODULE_5___default","react_spring__WEBPACK_IMPORTED_MODULE_6__","react_use__WEBPACK_IMPORTED_MODULE_7__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__","_this","undefined","MapSwitcher","_ref","mapStatistic","setMapStatistic","_useMeasure","_useMeasure2","mapSwitcher","_useState","_useState2","clicked","setClicked","_useState3","_useState4","count","setCount","isPresent","indexOf","_useSpring","opacity","background","concat","color","transform","length","config","gentle","_useSpring2","spring","springApi","_isPresent","a","unstable_batchedUpdates","_STATISTIC_CONFIGS$ma","start","delay","onStart","bind","onRest","handleClick","statistic","prevCount","className","children","div","style","map","index","onClick","isEqual","prevProps","currProps"],"mappings":"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"},"input":"(this[\"webpackJsonpd3ia\"] = this[\"webpackJsonpd3ia\"] || []).push([[16],{\n\n/***/ 147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/misc/util.js\nvar util = __webpack_require__(91);\n\n// CONCATENATED MODULE: ./node_modules/react-use/esm/useIsomorphicLayoutEffect.js\n\n\nvar useIsomorphicLayoutEffect = util[\"a\" /* isBrowser */] ? react[\"useLayoutEffect\"] : react[\"useEffect\"];\n/* harmony default export */ var esm_useIsomorphicLayoutEffect = (useIsomorphicLayoutEffect);\n// CONCATENATED MODULE: ./node_modules/react-use/esm/useMeasure.js\n\n\n\nvar defaultState = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0\n};\n\nfunction useMeasure() {\n  var _a = Object(react[\"useState\"])(null),\n      element = _a[0],\n      ref = _a[1];\n\n  var _b = Object(react[\"useState\"])(defaultState),\n      rect = _b[0],\n      setRect = _b[1];\n\n  var observer = Object(react[\"useMemo\"])(function () {\n    return new window.ResizeObserver(function (entries) {\n      if (entries[0]) {\n        var _a = entries[0].contentRect,\n            x = _a.x,\n            y = _a.y,\n            width = _a.width,\n            height = _a.height,\n            top_1 = _a.top,\n            left = _a.left,\n            bottom = _a.bottom,\n            right = _a.right;\n        setRect({\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          top: top_1,\n          left: left,\n          bottom: bottom,\n          right: right\n        });\n      }\n    });\n  }, []);\n  esm_useIsomorphicLayoutEffect(function () {\n    if (!element) return;\n    observer.observe(element);\n    return function () {\n      observer.disconnect();\n    };\n  }, [element]);\n  return [ref, rect];\n}\n\n/* harmony default export */ var esm_useMeasure = __webpack_exports__[\"a\"] = (util[\"a\" /* isBrowser */] && typeof window.ResizeObserver !== 'undefined' ? useMeasure : function () {\n  return [util[\"b\" /* noop */], defaultState];\n});\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52);\n/* harmony import */ var _Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(94);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_spring__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(98);\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(147);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(21);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);\nvar _this=undefined;var MapSwitcher=function MapSwitcher(_ref){var mapStatistic=_ref.mapStatistic,setMapStatistic=_ref.setMapStatistic;var _useMeasure=Object(react_use__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(),_useMeasure2=Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useMeasure,2),mapSwitcher=_useMeasure2[0],width=_useMeasure2[1].width;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState2=Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState4=Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState3,2),count=_useState4[0],setCount=_useState4[1];var isPresent=_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].indexOf(mapStatistic)>=0;var _useSpring=Object(react_spring__WEBPACK_IMPORTED_MODULE_6__[\"useSpring\"])(function(){return{opacity:0,background:\"\".concat(_constants__WEBPACK_IMPORTED_MODULE_2__[/* STATISTIC_CONFIGS */ \"w\"][mapStatistic].color,\"20\"),transform:isPresent?\"translate3d(\".concat(width*_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].indexOf(mapStatistic)/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].length,\"px, 0, 0)\"):null,width:\"calc(\".concat(100/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].length,\"%)\"),config:react_spring__WEBPACK_IMPORTED_MODULE_6__[\"config\"].gentle};}),_useSpring2=Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useSpring,2),spring=_useSpring2[0],springApi=_useSpring2[1];Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){if(width>0){var _isPresent=_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].indexOf(mapStatistic)>=0;react_dom__WEBPACK_IMPORTED_MODULE_5___default.a.unstable_batchedUpdates(function(){var _STATISTIC_CONFIGS$ma;springApi.start({transform:_isPresent?\"translate3d(\".concat(width*_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].indexOf(mapStatistic)/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].length,\"px, 0, 0)\"):null,opacity:_isPresent?1:0,background:_isPresent?\"\".concat((_STATISTIC_CONFIGS$ma=_constants__WEBPACK_IMPORTED_MODULE_2__[/* STATISTIC_CONFIGS */ \"w\"][mapStatistic])===null||_STATISTIC_CONFIGS$ma===void 0?void 0:_STATISTIC_CONFIGS$ma.color,\"20\"):null,delay:count===0?1500:0,onStart:setClicked.bind(_this,true),onRest:setClicked.bind(_this,false)});});}},[count,mapStatistic,springApi,width]);var handleClick=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])(function(statistic){setCount(function(prevCount){return prevCount+1;});setMapStatistic(statistic);},[setMapStatistic]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{className:\"MapSwitcher\",ref:mapSwitcher,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_spring__WEBPACK_IMPORTED_MODULE_6__[\"animated\"].div,{className:\"highlight\",style:spring}),_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].map(function(statistic,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"div\",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(\"clickable\",Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},\"is-\".concat(statistic),!clicked)),onClick:handleClick.bind(_this,statistic),style:{width:\"calc(\".concat(100/_constants__WEBPACK_IMPORTED_MODULE_2__[/* LEVEL_STATISTICS */ \"h\"].length,\"%)\")}},index);})]});};var isEqual=function isEqual(prevProps,currProps){if(prevProps.mapStatistic!==currProps.mapStatistic){return false;}return true;};/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"memo\"])(MapSwitcher,isEqual));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/node_modules/react-use/esm/useIsomorphicLayoutEffect.js","/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/node_modules/react-use/esm/useMeasure.js","/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/MapSwitcher.js"],"names":["useIsomorphicLayoutEffect","isBrowser","useLayoutEffect","useEffect","defaultState","x","y","width","height","top","left","bottom","right","useMeasure","_a","useState","element","ref","_b","rect","setRect","observer","useMemo","window","ResizeObserver","entries","contentRect","top_1","observe","disconnect","noop","MapSwitcher","mapStatistic","setMapStatistic","mapSwitcher","clicked","setClicked","count","setCount","isPresent","LEVEL_STATISTICS","indexOf","useSpring","opacity","background","STATISTIC_CONFIGS","color","transform","length","config","gentle","spring","springApi","ReactDOM","unstable_batchedUpdates","start","delay","onStart","bind","onRest","handleClick","useCallback","statistic","prevCount","map","index","classnames","isEqual","prevProps","currProps","memo"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import { LEVEL_STATISTICS, STATISTIC_CONFIGS } from \"../constants\";\n\nimport classnames from \"classnames\";\nimport { memo, useState, useCallback, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useSpring, animated, config } from \"react-spring\";\nimport { useMeasure } from \"react-use\";\n\nconst MapSwitcher = ({ mapStatistic, setMapStatistic }) => {\n  const [mapSwitcher, { width }] = useMeasure();\n  const [clicked, setClicked] = useState(false);\n  const [count, setCount] = useState(0);\n\n  const isPresent = LEVEL_STATISTICS.indexOf(mapStatistic) >= 0;\n\n  const [spring, springApi] = useSpring(() => ({\n    opacity: 0,\n    background: `${STATISTIC_CONFIGS[mapStatistic].color}20`,\n    transform: isPresent\n      ? `translate3d(${\n          (width * LEVEL_STATISTICS.indexOf(mapStatistic)) /\n          LEVEL_STATISTICS.length\n        }px, 0, 0)`\n      : null,\n    width: `calc(${100 / LEVEL_STATISTICS.length}%)`,\n    config: config.gentle,\n  }));\n\n  useEffect(() => {\n    if (width > 0) {\n      const isPresent = LEVEL_STATISTICS.indexOf(mapStatistic) >= 0;\n      ReactDOM.unstable_batchedUpdates(() => {\n        springApi.start({\n          transform: isPresent\n            ? `translate3d(${\n                (width * LEVEL_STATISTICS.indexOf(mapStatistic)) /\n                LEVEL_STATISTICS.length\n              }px, 0, 0)`\n            : null,\n          opacity: isPresent ? 1 : 0,\n          background: isPresent\n            ? `${STATISTIC_CONFIGS[mapStatistic]?.color}20`\n            : null,\n          delay: count === 0 ? 1500 : 0,\n          onStart: setClicked.bind(this, true),\n          onRest: setClicked.bind(this, false),\n        });\n      });\n    }\n  }, [count, mapStatistic, springApi, width]);\n\n  const handleClick = useCallback(\n    (statistic) => {\n      setCount((prevCount) => prevCount + 1);\n      setMapStatistic(statistic);\n    },\n    [setMapStatistic]\n  );\n\n  return (\n    <div className=\"MapSwitcher\" ref={mapSwitcher}>\n      <animated.div className=\"highlight\" style={spring}></animated.div>\n\n      {LEVEL_STATISTICS.map((statistic, index) => (\n        <div\n          key={index}\n          className={classnames(\"clickable\", { [`is-${statistic}`]: !clicked })}\n          onClick={handleClick.bind(this, statistic)}\n          style={{ width: `calc(${100 / LEVEL_STATISTICS.length}%)` }}\n        ></div>\n      ))}\n    </div>\n  );\n};\n\nconst isEqual = (prevProps, currProps) => {\n  if (prevProps.mapStatistic !== currProps.mapStatistic) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(MapSwitcher, isEqual);\n"]}}