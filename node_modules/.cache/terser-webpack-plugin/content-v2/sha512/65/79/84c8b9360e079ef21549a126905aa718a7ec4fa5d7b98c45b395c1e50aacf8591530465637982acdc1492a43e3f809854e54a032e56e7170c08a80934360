{"code":"(this.webpackJsonpd3ia=this.webpackJsonpd3ia||[]).push([[15],{111:function(e,t,a){\"use strict\";var n=a(102),s=a(146),c=a(2),i=(a(133),a(134),a(21));t.a=function(e){var t=e.children,a=e.message,d=e.hold,o=void 0!==d&&d,l=e.childProps,r=void 0===l?{}:l,j=Object(c.useCallback)((function(e){return e.stopPropagation()}),[]);return Object(i.jsx)(s.a,{className:\"Tooltip\",content:\"string\"===typeof a?Object(i.jsx)(\"p\",{className:\"message\",dangerouslySetInnerHTML:{__html:a.trim().split(\"\\n\").map((function(e){return\"<div>\".concat(e,\"</div>\")})).join(\"\")}}):a,arrow:!1,animation:\"shift-away\",touch:!o||[\"hold\",300],children:Object(i.jsx)(\"div\",Object(n.a)(Object(n.a)({onClick:j},r),{},{children:t}))})}},237:function(e,t,a){\"use strict\";a.r(t);var n=a(46),s=a(111),c=a(24),i=a(95),d=a(2),o=a(174),l=a(21),r=Object(d.lazy)((function(){return Object(c.k)((function(){return a.e(12).then(a.bind(null,227))}))})),j=function(e){var t=e.lastUpdatedDate,a=e.newUpdate,n=e.isTimelineMode,j=e.setIsTimelineMode,b=e.showUpdates,u=e.date,O=e.setDate,p=e.dates,m=e.setNewUpdate,f=e.setShowUpdates,h=Object(o.a)().t,v=Object(d.useMemo)((function(){var e=[];return[0,0,0].map((function(t,a){return e.push({animationDelay:\"\".concat(500+250*a,\"ms\")}),null})),e}),[]),x=Object(d.useCallback)((function(){j(!0),b&&f(!b)}),[j,f,b]),U=Object(d.useCallback)((function(){b||m(!1),f(!b)}),[b,f,m]);return Object(l.jsxs)(\"div\",{className:\"ActionsPanel\",children:[Object(l.jsxs)(\"div\",{className:\"actions\",style:{opacity:n?0:1,transform:\"perspective(600px) rotateX(\".concat(n?90:0,\"deg)\"),pointerEvents:n?\"none\":\"\"},children:[Object(l.jsx)(\"h5\",{className:\"fadeInUp\",style:v[0],children:\"\".concat(Object(c.c)(t,\"dd MMM, p\"),\" \").concat(h(\"IST\"))}),Object(l.jsxs)(\"div\",{className:\"bell-icon fadeInUp\",style:v[1],onClick:U,children:[b?Object(l.jsx)(i.d,{size:15}):Object(l.jsx)(i.c,{size:15}),a&&Object(l.jsx)(\"div\",{className:\"indicator\"})]}),Object(l.jsx)(s.a,{message:\"Timeline\",hold:!0,children:Object(l.jsx)(\"div\",{className:\"timeline-icon fadeInUp\",onClick:x,style:v[2],children:Object(l.jsx)(i.i,{})})})]}),n&&Object(l.jsx)(d.Suspense,{fallback:Object(l.jsx)(\"div\",{}),children:Object(l.jsx)(r,{date:u,setDate:O,dates:p,isTimelineMode:n,setIsTimelineMode:j})})]})},b=a(11),u=a(195),O=a(96),p=a.n(O),m=a(193),f=a(122),h=Object(d.lazy)((function(){return Object(c.k)((function(){return a.e(23).then(a.bind(null,204))}))})),v=function(e){var t=e.date,a=e.setDate,s=e.dates,i=e.lastUpdatedDate,o=Object(d.useState)(!1),r=Object(n.a)(o,2),O=r[0],p=r[1],v=Object(m.a)(\"newUpdate\",!1),x=Object(n.a)(v,2),U=x[0],w=x[1],k=Object(m.a)(\"lastViewedLog\",0),M=Object(n.a)(k,2),g=M[0],y=M[1],D=Object(d.useState)(!1),N=Object(n.a)(D,2),T=N[0],I=N[1],S=Object(f.a)(\"\".concat(b.a,\"/updatelog/log.json\"),c.b,{refreshInterval:b.b}).data;Object(d.useEffect)((function(){if(void 0!==S){var e=1e3*S.slice().reverse()[0].timestamp;e!==g&&(w(!0),y(e))}}),[g,S,y,w]);var C=Object(d.useMemo)((function(){return Object(c.d)(Object(u.a)([g,i].filter((function(e){return e})).map((function(e){return Object(c.j)(e)}))))}),[g,i]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{lastUpdatedDate:C,newUpdate:U,isTimelineMode:T,setIsTimelineMode:I,showUpdates:O,date:t,setDate:a,dates:s,setNewUpdate:w,setShowUpdates:p}),O&&Object(l.jsx)(d.Suspense,{fallback:Object(l.jsx)(\"div\",{}),children:Object(l.jsx)(h,{updates:S})})]})},x=function(e,t){return!!p()(t.date,e.date)&&(!!p()(t.lastUpdatedDate,e.lastUpdatedDate)&&!!p()(t.dates,e.dates))};t.default=Object(d.memo)(v,x)}}]);","name":"static/js/15.b4991d6d.chunk.js","map":{"version":3,"sources":["static/js/15.b4991d6d.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","_tippyjs_react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","_ref","children","message","_ref$hold","hold","_ref$childProps","childProps","handleClick","Object","e","stopPropagation","className","content","dangerouslySetInnerHTML","__html","trim","split","map","text","concat","join","arrow","animation","touch","onClick","r","slicedToArray","Tooltip","commonFunctions","index_esm","react","useTranslation","jsx_runtime","Timeline","then","bind","components_ActionsPanel","lastUpdatedDate","newUpdate","isTimelineMode","setIsTimelineMode","showUpdates","date","setDate","dates","setNewUpdate","setShowUpdates","t","trail","styles","element","index","animationDelay","handleTimelineClick","handleBellClick","style","opacity","transform","pointerEvents","size","fallback","constants","max","fast_deep_equal","fast_deep_equal_default","n","useLocalStorage","esm","Updates","Actions_Actions","_useState","_useState2","_useLocalStorage","_useLocalStorage2","_useLocalStorage3","_useLocalStorage4","lastViewedLog","setLastViewedLog","_useState3","_useState4","updates","refreshInterval","data","undefined","lastTimestamp","slice","reverse","timestamp","maxLastUpdatedDate","filter","Actions_isEqual","prevProps","currProps"],"mappings":"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"},"input":"(this[\"webpackJsonpd3ia\"] = this[\"webpackJsonpd3ia\"] || []).push([[15],{\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(102);\n/* harmony import */ var _tippyjs_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(146);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(133);\n/* harmony import */ var tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tippy_js_dist_tippy_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(134);\n/* harmony import */ var tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(tippy_js_animations_shift_away_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\nfunction Tooltip(_ref){var children=_ref.children,message=_ref.message,_ref$hold=_ref.hold,hold=_ref$hold===void 0?false:_ref$hold,_ref$childProps=_ref.childProps,childProps=_ref$childProps===void 0?{}:_ref$childProps;var handleClick=Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])(function(e){return e.stopPropagation();},[]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(_tippyjs_react__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"],{className:\"Tooltip\",content:typeof message===\"string\"?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(\"p\",{className:\"message\",dangerouslySetInnerHTML:{__html:message.trim().split(\"\\n\").map(function(text){return\"<div>\".concat(text,\"</div>\");}).join(\"\")}}):message,arrow:false,animation:\"shift-away\",touch:hold?[\"hold\",300]:true,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(\"div\",Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_nawaf_code_Create_a_D3_Dashboard_With_React_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({onClick:handleClick},childProps),{},{children:children}))});}/* harmony default export */ __webpack_exports__[\"a\"] = (Tooltip);\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./src/components/Tooltip.js\nvar Tooltip = __webpack_require__(111);\n\n// EXTERNAL MODULE: ./src/utils/commonFunctions.js\nvar commonFunctions = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/@primer/octicons-react/dist/index.esm.js\nvar index_esm = __webpack_require__(95);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-i18next/dist/es/useTranslation.js + 1 modules\nvar useTranslation = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/components/ActionsPanel.js\nvar Timeline=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return __webpack_require__.e(/* import() */ 12).then(__webpack_require__.bind(null, 227));});});var ActionsPanel_ActionsPanel=function ActionsPanel(_ref){var lastUpdatedDate=_ref.lastUpdatedDate,newUpdate=_ref.newUpdate,isTimelineMode=_ref.isTimelineMode,setIsTimelineMode=_ref.setIsTimelineMode,showUpdates=_ref.showUpdates,date=_ref.date,setDate=_ref.setDate,dates=_ref.dates,setNewUpdate=_ref.setNewUpdate,setShowUpdates=_ref.setShowUpdates;var _useTranslation=Object(useTranslation[\"a\" /* useTranslation */])(),t=_useTranslation.t;var trail=Object(react[\"useMemo\"])(function(){var styles=[];[0,0,0].map(function(element,index){styles.push({animationDelay:\"\".concat(500+index*250,\"ms\")});return null;});return styles;},[]);var handleTimelineClick=Object(react[\"useCallback\"])(function(){setIsTimelineMode(true);if(showUpdates)setShowUpdates(!showUpdates);},[setIsTimelineMode,setShowUpdates,showUpdates]);var handleBellClick=Object(react[\"useCallback\"])(function(){if(!showUpdates)setNewUpdate(false);setShowUpdates(!showUpdates);},[showUpdates,setShowUpdates,setNewUpdate]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ActionsPanel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"actions\",style:{opacity:isTimelineMode?0:1,transform:\"perspective(600px) rotateX(\".concat(isTimelineMode?90:0,\"deg)\"),pointerEvents:isTimelineMode?\"none\":\"\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"fadeInUp\",style:trail[0],children:\"\".concat(Object(commonFunctions[\"c\" /* formatDate */])(lastUpdatedDate,\"dd MMM, p\"),\" \").concat(t(\"IST\"))}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bell-icon fadeInUp\",style:trail[1],onClick:handleBellClick,children:[!showUpdates?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"c\" /* BellIcon */],{size:15}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* BellSlashIcon */],{size:15}),newUpdate&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"indicator\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{message:\"Timeline\",hold:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"timeline-icon fadeInUp\",onClick:handleTimelineClick,style:trail[2],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* HistoryIcon */],{})})})]}),isTimelineMode&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Timeline,{date:date,setDate:setDate,dates:dates,isTimelineMode:isTimelineMode,setIsTimelineMode:setIsTimelineMode})})]});};/* harmony default export */ var components_ActionsPanel = (ActionsPanel_ActionsPanel);\n// EXTERNAL MODULE: ./src/constants.js\nvar constants = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/max/index.js\nvar max = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/fast-deep-equal/index.js\nvar fast_deep_equal = __webpack_require__(96);\nvar fast_deep_equal_default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal);\n\n// EXTERNAL MODULE: ./node_modules/react-use/esm/useLocalStorage.js\nvar useLocalStorage = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/swr/esm/index.js + 9 modules\nvar esm = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./src/components/Actions.js\nvar Updates=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Object(commonFunctions[\"k\" /* retry */])(function(){return __webpack_require__.e(/* import() */ 23).then(__webpack_require__.bind(null, 204));});});var Actions_Actions=function Actions(_ref){var date=_ref.date,setDate=_ref.setDate,dates=_ref.dates,lastUpdatedDate=_ref.lastUpdatedDate;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showUpdates=_useState2[0],setShowUpdates=_useState2[1];var _useLocalStorage=Object(useLocalStorage[\"a\" /* default */])(\"newUpdate\",false),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,2),newUpdate=_useLocalStorage2[0],setNewUpdate=_useLocalStorage2[1];var _useLocalStorage3=Object(useLocalStorage[\"a\" /* default */])(\"lastViewedLog\",0),_useLocalStorage4=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage3,2),lastViewedLog=_useLocalStorage4[0],setLastViewedLog=_useLocalStorage4[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isTimelineMode=_useState4[0],setIsTimelineMode=_useState4[1];var _useSWR=Object(esm[\"a\" /* default */])(\"\".concat(constants[\"a\" /* API_DOMAIN */],\"/updatelog/log.json\"),commonFunctions[\"b\" /* fetcher */],{refreshInterval:constants[\"b\" /* API_REFRESH_INTERVAL */]}),updates=_useSWR.data;Object(react[\"useEffect\"])(function(){if(updates!==undefined){var lastTimestamp=updates.slice().reverse()[0].timestamp*1000;if(lastTimestamp!==lastViewedLog){setNewUpdate(true);setLastViewedLog(lastTimestamp);}}},[lastViewedLog,updates,setLastViewedLog,setNewUpdate]);var maxLastUpdatedDate=Object(react[\"useMemo\"])(function(){return Object(commonFunctions[\"d\" /* formatDateObjSaudia */])(Object(max[\"a\" /* default */])([lastViewedLog,lastUpdatedDate].filter(function(date){return date;}).map(function(date){return Object(commonFunctions[\"j\" /* parseSaudiaDate */])(date);})));},[lastViewedLog,lastUpdatedDate]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ActionsPanel,{lastUpdatedDate:maxLastUpdatedDate,newUpdate:newUpdate,isTimelineMode:isTimelineMode,setIsTimelineMode:setIsTimelineMode,showUpdates:showUpdates,date:date,setDate:setDate,dates:dates,setNewUpdate:setNewUpdate,setShowUpdates:setShowUpdates}),showUpdates&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Updates,{updates:updates})})]});};var Actions_isEqual=function isEqual(prevProps,currProps){if(!fast_deep_equal_default()(currProps.date,prevProps.date)){return false;}else if(!fast_deep_equal_default()(currProps.lastUpdatedDate,prevProps.lastUpdatedDate)){return false;}else if(!fast_deep_equal_default()(currProps.dates,prevProps.dates)){return false;}return true;};/* harmony default export */ var components_Actions = __webpack_exports__[\"default\"] = (/*#__PURE__*/Object(react[\"memo\"])(Actions_Actions,Actions_isEqual));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/Tooltip.js","/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/ActionsPanel.js","/Users/nawaf/code/Create-a-D3-Dashboard-With-React-/src/components/Actions.js"],"names":["Tooltip","children","message","hold","childProps","handleClick","useCallback","e","stopPropagation","__html","trim","split","map","text","join","Timeline","lazy","retry","ActionsPanel","lastUpdatedDate","newUpdate","isTimelineMode","setIsTimelineMode","showUpdates","date","setDate","dates","setNewUpdate","setShowUpdates","useTranslation","t","trail","useMemo","styles","element","index","push","animationDelay","handleTimelineClick","handleBellClick","opacity","transform","pointerEvents","formatDate","Updates","Actions","useState","useLocalStorage","lastViewedLog","setLastViewedLog","useSWR","API_DOMAIN","fetcher","refreshInterval","API_REFRESH_INTERVAL","updates","data","useEffect","undefined","lastTimestamp","slice","reverse","timestamp","maxLastUpdatedDate","formatDateObjSaudia","max","filter","parseSaudiaDate","isEqual","prevProps","currProps","equal","memo"],"mappings":"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","file":"x","sourcesContent":["import Tippy from \"@tippyjs/react\";\nimport { useCallback } from \"react\";\n\nimport \"tippy.js/dist/tippy.css\";\nimport \"tippy.js/animations/shift-away.css\";\n\nfunction Tooltip({ children, message, hold = false, childProps = {} }) {\n  const handleClick = useCallback((e) => e.stopPropagation(), []);\n\n  return (\n    <Tippy\n      className=\"Tooltip\"\n      content={\n        typeof message === \"string\" ? (\n          <p\n            className=\"message\"\n            dangerouslySetInnerHTML={{\n              __html: message\n                .trim()\n                .split(\"\\n\")\n                .map((text) => `<div>${text}</div>`)\n                .join(\"\"),\n            }}\n          ></p>\n        ) : (\n          message\n        )\n      }\n      arrow={false}\n      animation=\"shift-away\"\n      touch={hold ? [\"hold\", 300] : true}\n    >\n      <div onClick={handleClick} {...childProps}>\n        {children}\n      </div>\n    </Tippy>\n  );\n}\n\nexport default Tooltip;\n","import Tooltip from \"./Tooltip\";\n\nimport { formatDate, retry } from \"../utils/commonFunctions\";\n\nimport { BellIcon, BellSlashIcon, HistoryIcon } from \"@primer/octicons-react\";\nimport { useMemo, useCallback, lazy, Suspense } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Timeline = lazy(() => retry(() => import(\"./Timeline\")));\n\nconst ActionsPanel = ({\n  lastUpdatedDate,\n  newUpdate,\n  isTimelineMode,\n  setIsTimelineMode,\n  showUpdates,\n  date,\n  setDate,\n  dates,\n  setNewUpdate,\n  setShowUpdates,\n}) => {\n  const { t } = useTranslation();\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${500 + index * 250}ms`,\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n\n  const handleTimelineClick = useCallback(() => {\n    setIsTimelineMode(true);\n    if (showUpdates) setShowUpdates(!showUpdates);\n  }, [setIsTimelineMode, setShowUpdates, showUpdates]);\n\n  const handleBellClick = useCallback(() => {\n    if (!showUpdates) setNewUpdate(false);\n    setShowUpdates(!showUpdates);\n  }, [showUpdates, setShowUpdates, setNewUpdate]);\n\n  return (\n    <div className=\"ActionsPanel\">\n      <div\n        className=\"actions\"\n        style={{\n          opacity: isTimelineMode ? 0 : 1,\n          transform: `perspective(600px) rotateX(${\n            isTimelineMode ? 90 : 0\n          }deg)`,\n          pointerEvents: isTimelineMode ? \"none\" : \"\",\n        }}\n      >\n        <h5 className=\"fadeInUp\" style={trail[0]}>{`${formatDate(\n          lastUpdatedDate,\n          \"dd MMM, p\"\n        )} ${t(\"IST\")}`}</h5>\n\n        <div\n          className=\"bell-icon fadeInUp\"\n          style={trail[1]}\n          onClick={handleBellClick}\n        >\n          {!showUpdates ? <BellIcon size={15} /> : <BellSlashIcon size={15} />}\n          {newUpdate && <div className=\"indicator\"></div>}\n        </div>\n\n        <Tooltip message={\"Timeline\"} hold>\n          <div\n            className=\"timeline-icon fadeInUp\"\n            onClick={handleTimelineClick}\n            style={trail[2]}\n          >\n            {<HistoryIcon />}\n          </div>\n        </Tooltip>\n      </div>\n\n      {isTimelineMode && (\n        <Suspense fallback={<div />}>\n          <Timeline\n            {...{ date, setDate, dates, isTimelineMode, setIsTimelineMode }}\n          />\n        </Suspense>\n      )}\n    </div>\n  );\n};\n\nexport default ActionsPanel;\n","import ActionsPanel from \"./ActionsPanel\";\n\nimport { API_DOMAIN, API_REFRESH_INTERVAL } from \"../constants\";\nimport {\n  fetcher,\n  formatDateObjSaudia,\n  parseSaudiaDate,\n  retry,\n} from \"../utils/commonFunctions\";\n\nimport { max } from \"date-fns\";\nimport equal from \"fast-deep-equal\";\nimport { memo, useEffect, useMemo, useState, lazy, Suspense } from \"react\";\nimport { useLocalStorage } from \"react-use\";\nimport useSWR from \"swr\";\n\nconst Updates = lazy(() => retry(() => import(\"./Updates\")));\n\nconst Actions = ({ date, setDate, dates, lastUpdatedDate }) => {\n  const [showUpdates, setShowUpdates] = useState(false);\n  const [newUpdate, setNewUpdate] = useLocalStorage(\"newUpdate\", false);\n  const [lastViewedLog, setLastViewedLog] = useLocalStorage(\"lastViewedLog\", 0);\n  const [isTimelineMode, setIsTimelineMode] = useState(false);\n\n  const { data: updates } = useSWR(\n    `${API_DOMAIN}/updatelog/log.json`,\n    fetcher,\n    {\n      refreshInterval: API_REFRESH_INTERVAL,\n    }\n  );\n\n  useEffect(() => {\n    if (updates !== undefined) {\n      const lastTimestamp = updates.slice().reverse()[0].timestamp * 1000;\n      if (lastTimestamp !== lastViewedLog) {\n        setNewUpdate(true);\n        setLastViewedLog(lastTimestamp);\n      }\n    }\n  }, [lastViewedLog, updates, setLastViewedLog, setNewUpdate]);\n\n  const maxLastUpdatedDate = useMemo(() => {\n    return formatDateObjSaudia(\n      max(\n        [lastViewedLog, lastUpdatedDate]\n          .filter((date) => date)\n          .map((date) => parseSaudiaDate(date))\n      )\n    );\n  }, [lastViewedLog, lastUpdatedDate]);\n\n  return (\n    <>\n      <ActionsPanel\n        {...{\n          lastUpdatedDate: maxLastUpdatedDate,\n          newUpdate,\n          isTimelineMode,\n          setIsTimelineMode,\n          showUpdates,\n          date,\n          setDate,\n          dates,\n          setNewUpdate,\n          setShowUpdates,\n        }}\n      />\n\n      {showUpdates && (\n        <Suspense fallback={<div />}>\n          <Updates {...{ updates }} />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(currProps.date, prevProps.date)) {\n    return false;\n  } else if (!equal(currProps.lastUpdatedDate, prevProps.lastUpdatedDate)) {\n    return false;\n  } else if (!equal(currProps.dates, prevProps.dates)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(Actions, isEqual);\n"]}}