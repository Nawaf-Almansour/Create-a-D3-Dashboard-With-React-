{"version":3,"sources":["../node_modules/dequal/lite/index.mjs","../node_modules/swr/esm/libs/hash.js","../node_modules/swr/esm/cache.js","../node_modules/swr/esm/libs/web-preset.js","../node_modules/swr/esm/config.js","../node_modules/swr/esm/env.js","../node_modules/swr/esm/swr-config-context.js","../node_modules/swr/esm/use-swr.js","../node_modules/swr/esm/index.js","../../src/utils/errors.ts","../../src/utils/common.ts","../../src/utils/plugins.ts","../../src/core/scope.ts","../../src/core/finalize.ts","../../src/core/proxy.ts","../../src/core/immerClass.ts","../../src/core/current.ts","../../src/immer.ts","../../src/utils/env.ts","../node_modules/react-helmet/es/Helmet.js","../node_modules/react-side-effect/lib/index.js","../node_modules/react-fast-compare/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-use/esm/useUpdateEffect.js","../node_modules/react-use/esm/useFirstMountState.js","../node_modules/react-use/esm/useLocalStorage.js","../node_modules/react-use/esm/useSessionStorage.js","../node_modules/date-fns/esm/max/index.js","../node_modules/classnames/index.js"],"names":["has","Object","prototype","hasOwnProperty","table","WeakMap","counter","Cache","initialData","this","cache","Map","entries","subs","get","key","_key","serializeKey","set","value","notify","keys","Array","from","clear","delete","args","err","isArray","length","i","_hash","String","hash","subscribe","listener","_this","Error","isSubscribed","push","index","indexOf","_i","_a","online","isOnline","isDocumentVisible","document","undefined","visibilityState","fetcher","url","fetch","then","res","json","registerOnFocus","cb","window","addEventListener","registerOnReconnect","__assign","assign","t","s","n","arguments","p","call","apply","slowConnection","navigator","effectiveType","defaultConfig","onLoadingSlow","onSuccess","onError","onErrorRetry","_","__","config","revalidate","opts","errorRetryCount","retryCount","count","Math","min","timeout","random","errorRetryInterval","setTimeout","focusThrottleInterval","dedupingInterval","loadingTimeout","refreshInterval","revalidateOnFocus","revalidateOnReconnect","refreshWhenHidden","refreshWhenOffline","shouldRetryOnError","suspense","compare","dequal","foo","bar","ctor","len","constructor","Date","getTime","RegExp","toString","isPaused","webPreset","IS_SERVER","Deno","version","deno","rAF","f","useIsomorphicLayoutEffect","useEffect","useLayoutEffect","SWRConfigContext","createContext","displayName","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","__generator","body","y","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","CONCURRENT_PROMISES","CONCURRENT_PROMISES_TS","FOCUS_REVALIDATORS","RECONNECT_REVALIDATORS","CACHE_REVALIDATORS","MUTATION_TS","MUTATION_END_TS","now","ts","revalidate_1","revalidators","trigger","shouldRevalidate","keyErr","keyValidating","updaters","currentData","currentError","currentIsValidating","promises","all","broadcastState","data","error","isValidating","mutate","_data","beforeMutationTs","beforeConcurrentPromisesTs","isAsyncMutation","err_1","shouldAbort","_b","defineProperty","Provider","useSWR","useContext","fn","fnArgs","configRef","useRef","current","willRevalidateOnMount","revalidateOnMount","resolveData","cachedData","resolveIsValidating","initialError","initialIsValidating","stateDependencies","stateRef","useDebugValue","latestData","latestError","rerender","useState","dispatch","useCallback","payload","shouldUpdateState","k","unmountedRef","initialMountedRef","keyRef","eventsCallback","event","params","boundMutate","addRevalidator","callback","keyedRevalidators","revalidateOpts","dedupe","loading","shouldDeduping","newData","startAt","newState","err_2","_c","isUpdating","currentHookData","latestKeyedData","softRevalidate","pending","unsubFocus","unsubReconnect","unsubUpdate","updatedData","updatedError","updatedIsValidating","needUpdate","timer","tick","clearTimeout","memoizedState","useMemo","state","defineProperties","enumerable","die","msg","map","join","isDraft","DRAFT_STATE","isDraftable","proto","getPrototypeOf","Ctor","Function","objectCtorString","DRAFTABLE","isMap","isSet","each","obj","iter","enumerableOnly","getArchtype","ownKeys","forEach","entry","thing","type_","prop","propOrOldValue","add","is","x","target","hasMap","hasSet","Set","latest","copy_","base_","shallowCopy","base","slice","descriptors","getOwnPropertyDescriptors","desc","writable","configurable","create","freeze","deep","isFrozen","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","getCurrentScope","currentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","baseDraft","isReplaced","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","path","childValue","finalizeProperty","scope_","finalized_","draft_","generatePatches_","parentState","targetObject","rootPath","assigned_","concat","autoFreeze_","peek","getDescriptorFromProto","source","getOwnPropertyDescriptor","markChanged","prepareCopy","createProxy","parent","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createES5Proxy_","currentImpl","copy","archType","hasChanges_","copyHelper","hasSymbol","hasProxies","Reflect","for","getOwnPropertySymbols","getOwnPropertyNames","currentState","deleteProperty","owner","setPrototypeOf","recipe","defaultBase","self","produce","_this2","hasError","arg1","arg2","produceWithPatches","ip","patches","inversePatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","patch","applyPatchesImpl","applyPatches_","bind","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","name","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","classCallCheck","instance","Constructor","createClass","props","descriptor","protoProps","staticProps","_extends","objectWithoutProperties","possibleConstructorReturn","ReferenceError","encodeSpecialCharacters","str","encode","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","objectAssign","property","rafPolyfill","clock","currentTime","cafPolyfill","id","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","console","_helmetCallback","commitTagChanges","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","removeAttribute","type","tags","headElement","head","querySelector","tagNodes","querySelectorAll","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","React","generateTitleAsReactComponent","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","link","meta","noscript","script","style","HelmetExport","Component","_class","_temp","_React$Component","HelmetWrapper","subClass","superClass","__proto__","inherits","shouldComponentUpdate","nextProps","isEqual","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","canUseDOM","propTypes","PropTypes","object","oneOfType","arrayOf","node","defaultTitle","defer","bool","func","titleTemplate","defaultProps","rewind","mappedState","Helmet","withSideEffect","renderStatic","ex","require","React__default","_defineProperty","module","exports","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","getDisplayName","hasElementType","Element","hasArrayBuffer","ArrayBuffer","isView","equal","a","b","it","size","flags","valueOf","$$typeof","message","match","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","useUpdateEffect","effect","deps","isFirstMount","isFirst","useFirstMountState","useLocalStorage","initialValue","options","isBrowser","noop","deserializer","raw","JSON","parse","initializer","serializer","stringify","localStorageValue","localStorage","getItem","setItem","setState","valOrFunc","remove","removeItem","useSessionStorage","sessionStorageValue","sessionStorage","serializedState","max","dirtyDatesArray","datesArray","requiredArgs","NaN","dirtyDate","currentDate","toDate","isNaN","Number","hasOwn","classNames","classes","arg","argType","inner","default"],"mappings":"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","file":"static/js/8.d4536246.chunk.js","sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nvar table = new WeakMap();\n// counter of the key\nvar counter = 0;\n// hashes an array of objects and returns a string\nexport default function hash(args) {\n    if (!args.length)\n        return '';\n    var key = 'arg';\n    for (var i = 0; i < args.length; ++i) {\n        if (args[i] === null) {\n            key += '@null';\n            continue;\n        }\n        var _hash = void 0;\n        if (typeof args[i] !== 'object' && typeof args[i] !== 'function') {\n            // need to consider the case that args[i] is a string:\n            // args[i]        _hash\n            // \"undefined\" -> '\"undefined\"'\n            // undefined   -> 'undefined'\n            // 123         -> '123'\n            // \"null\"      -> '\"null\"'\n            if (typeof args[i] === 'string') {\n                _hash = '\"' + args[i] + '\"';\n            }\n            else {\n                _hash = String(args[i]);\n            }\n        }\n        else {\n            if (!table.has(args[i])) {\n                _hash = counter;\n                table.set(args[i], counter++);\n            }\n            else {\n                _hash = table.get(args[i]);\n            }\n        }\n        key += '@' + _hash;\n    }\n    return key;\n}\n","import hash from './libs/hash';\nvar Cache = /** @class */ (function () {\n    function Cache(initialData) {\n        if (initialData === void 0) { initialData = {}; }\n        this.cache = new Map(Object.entries(initialData));\n        this.subs = [];\n    }\n    Cache.prototype.get = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.cache.get(_key);\n    };\n    Cache.prototype.set = function (key, value) {\n        var _key = this.serializeKey(key)[0];\n        this.cache.set(_key, value);\n        this.notify();\n    };\n    Cache.prototype.keys = function () {\n        return Array.from(this.cache.keys());\n    };\n    Cache.prototype.has = function (key) {\n        var _key = this.serializeKey(key)[0];\n        return this.cache.has(_key);\n    };\n    Cache.prototype.clear = function () {\n        this.cache.clear();\n        this.notify();\n    };\n    Cache.prototype.delete = function (key) {\n        var _key = this.serializeKey(key)[0];\n        this.cache.delete(_key);\n        this.notify();\n    };\n    // TODO: introduce namespace for the cache\n    Cache.prototype.serializeKey = function (key) {\n        var args = null;\n        if (typeof key === 'function') {\n            try {\n                key = key();\n            }\n            catch (err) {\n                // dependencies not ready\n                key = '';\n            }\n        }\n        if (Array.isArray(key)) {\n            // args array\n            args = key;\n            key = hash(key);\n        }\n        else {\n            // convert null to ''\n            key = String(key || '');\n        }\n        var errorKey = key ? 'err@' + key : '';\n        var isValidatingKey = key ? 'validating@' + key : '';\n        return [key, args, errorKey, isValidatingKey];\n    };\n    Cache.prototype.subscribe = function (listener) {\n        var _this = this;\n        if (typeof listener !== 'function') {\n            throw new Error('Expected the listener to be a function.');\n        }\n        var isSubscribed = true;\n        this.subs.push(listener);\n        return function () {\n            if (!isSubscribed)\n                return;\n            isSubscribed = false;\n            var index = _this.subs.indexOf(listener);\n            if (index > -1) {\n                _this.subs[index] = _this.subs[_this.subs.length - 1];\n                _this.subs.length--;\n            }\n        };\n    };\n    // Notify Cache subscribers about a change in the cache\n    Cache.prototype.notify = function () {\n        for (var _i = 0, _a = this.subs; _i < _a.length; _i++) {\n            var listener = _a[_i];\n            listener();\n        }\n    };\n    return Cache;\n}());\nexport default Cache;\n","/**\n * Due to bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a work around, we always assume it's online on first load, and change\n * the status upon `online` or `offline` events.\n */\nvar online = true;\nvar isOnline = function () { return online; };\nvar isDocumentVisible = function () {\n    if (typeof document !== 'undefined' &&\n        document.visibilityState !== undefined) {\n        return document.visibilityState !== 'hidden';\n    }\n    // always assume it's visible\n    return true;\n};\nvar fetcher = function (url) { return fetch(url).then(function (res) { return res.json(); }); };\nvar registerOnFocus = function (cb) {\n    if (typeof window !== 'undefined' &&\n        window.addEventListener !== undefined &&\n        typeof document !== 'undefined' &&\n        document.addEventListener !== undefined) {\n        // focus revalidate\n        document.addEventListener('visibilitychange', function () { return cb(); }, false);\n        window.addEventListener('focus', function () { return cb(); }, false);\n    }\n};\nvar registerOnReconnect = function (cb) {\n    if (typeof window !== 'undefined' && window.addEventListener !== undefined) {\n        // reconnect revalidate\n        window.addEventListener('online', function () {\n            online = true;\n            cb();\n        }, false);\n        // nothing to revalidate, just update the status\n        window.addEventListener('offline', function () { return (online = false); }, false);\n    }\n};\nexport default {\n    isOnline: isOnline,\n    isDocumentVisible: isDocumentVisible,\n    fetcher: fetcher,\n    registerOnFocus: registerOnFocus,\n    registerOnReconnect: registerOnReconnect\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { dequal } from 'dequal/lite';\nimport Cache from './cache';\nimport webPreset from './libs/web-preset';\n// cache\nvar cache = new Cache();\n// error retry\nfunction onErrorRetry(_, __, config, revalidate, opts) {\n    if (!config.isDocumentVisible()) {\n        // if it's hidden, stop\n        // it will auto revalidate when focus\n        return;\n    }\n    if (typeof config.errorRetryCount === 'number' &&\n        opts.retryCount > config.errorRetryCount) {\n        return;\n    }\n    // exponential backoff\n    var count = Math.min(opts.retryCount, 8);\n    var timeout = ~~((Math.random() + 0.5) * (1 << count)) * config.errorRetryInterval;\n    setTimeout(revalidate, timeout, opts);\n}\n// client side: need to adjust the config\n// based on the browser status\n// slow connection (<= 70Kbps)\nvar slowConnection = typeof window !== 'undefined' &&\n    // @ts-ignore\n    navigator['connection'] &&\n    // @ts-ignore\n    ['slow-2g', '2g'].indexOf(navigator['connection'].effectiveType) !== -1;\n// config\nvar defaultConfig = __assign({ \n    // events\n    onLoadingSlow: function () { }, onSuccess: function () { }, onError: function () { }, onErrorRetry: onErrorRetry, errorRetryInterval: (slowConnection ? 10 : 5) * 1000, focusThrottleInterval: 5 * 1000, dedupingInterval: 2 * 1000, loadingTimeout: (slowConnection ? 5 : 3) * 1000, refreshInterval: 0, revalidateOnFocus: true, revalidateOnReconnect: true, refreshWhenHidden: false, refreshWhenOffline: false, shouldRetryOnError: true, suspense: false, compare: dequal, isPaused: function () { return false; } }, webPreset);\nexport { cache };\nexport default defaultConfig;\n","import { useEffect, useLayoutEffect } from 'react';\nexport var IS_SERVER = typeof window === 'undefined' ||\n    // @ts-ignore\n    !!(typeof Deno !== 'undefined' && Deno && Deno.version && Deno.version.deno);\n// polyfill for requestAnimationFrame\nexport var rAF = IS_SERVER\n    ? null\n    : window['requestAnimationFrame']\n        ? function (f) { return window['requestAnimationFrame'](f); }\n        : function (f) { return setTimeout(f, 1); };\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nexport var useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n","import { createContext } from 'react';\nvar SWRConfigContext = createContext({});\nSWRConfigContext.displayName = 'SWRConfigContext';\nexport default SWRConfigContext;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// TODO: use @ts-expect-error\nimport { useCallback, useContext, useState, useRef, useMemo, useDebugValue } from 'react';\nimport defaultConfig, { cache } from './config';\nimport { IS_SERVER, rAF, useIsomorphicLayoutEffect } from './env';\nimport SWRConfigContext from './swr-config-context';\n// global state managers\nvar CONCURRENT_PROMISES = {};\nvar CONCURRENT_PROMISES_TS = {};\nvar FOCUS_REVALIDATORS = {};\nvar RECONNECT_REVALIDATORS = {};\nvar CACHE_REVALIDATORS = {};\nvar MUTATION_TS = {};\nvar MUTATION_END_TS = {};\n// generate strictly increasing timestamps\nvar now = (function () {\n    var ts = 0;\n    return function () { return ++ts; };\n})();\n// setup DOM events listeners for `focus` and `reconnect` actions\nif (!IS_SERVER) {\n    var revalidate_1 = function (revalidators) {\n        if (!defaultConfig.isDocumentVisible() || !defaultConfig.isOnline())\n            return;\n        for (var key in revalidators) {\n            if (revalidators[key][0])\n                revalidators[key][0]();\n        }\n    };\n    if (typeof defaultConfig.registerOnFocus === 'function') {\n        defaultConfig.registerOnFocus(function () { return revalidate_1(FOCUS_REVALIDATORS); });\n    }\n    if (typeof defaultConfig.registerOnReconnect === 'function') {\n        defaultConfig.registerOnReconnect(function () { return revalidate_1(RECONNECT_REVALIDATORS); });\n    }\n}\nvar trigger = function (_key, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    // we are ignoring the second argument which correspond to the arguments\n    // the fetcher will receive when key is an array\n    var _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2], keyValidating = _a[3];\n    if (!key)\n        return Promise.resolve();\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        var currentData = cache.get(key);\n        var currentError = cache.get(keyErr);\n        var currentIsValidating = cache.get(keyValidating);\n        var promises = [];\n        for (var i = 0; i < updaters.length; ++i) {\n            promises.push(updaters[i](shouldRevalidate, currentData, currentError, currentIsValidating, i > 0));\n        }\n        // return new updated value\n        return Promise.all(promises).then(function () { return cache.get(key); });\n    }\n    return Promise.resolve(cache.get(key));\n};\nvar broadcastState = function (key, data, error, isValidating) {\n    var updaters = CACHE_REVALIDATORS[key];\n    if (key && updaters) {\n        for (var i = 0; i < updaters.length; ++i) {\n            updaters[i](false, data, error, isValidating);\n        }\n    }\n};\nvar mutate = function (_key, _data, shouldRevalidate) {\n    if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var _a, key, keyErr, beforeMutationTs, beforeConcurrentPromisesTs, data, error, isAsyncMutation, err_1, shouldAbort, updaters, promises, i;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = cache.serializeKey(_key), key = _a[0], keyErr = _a[2];\n                    if (!key)\n                        return [2 /*return*/];\n                    // if there is no new data to update, let's just revalidate the key\n                    if (typeof _data === 'undefined')\n                        return [2 /*return*/, trigger(_key, shouldRevalidate)\n                            // update global timestamps\n                        ];\n                    // update global timestamps\n                    MUTATION_TS[key] = now() - 1;\n                    MUTATION_END_TS[key] = 0;\n                    beforeMutationTs = MUTATION_TS[key];\n                    beforeConcurrentPromisesTs = CONCURRENT_PROMISES_TS[key];\n                    isAsyncMutation = false;\n                    if (_data && typeof _data === 'function') {\n                        // `_data` is a function, call it passing current cache value\n                        try {\n                            _data = _data(cache.get(key));\n                        }\n                        catch (err) {\n                            // if `_data` function throws an error synchronously, it shouldn't be cached\n                            _data = undefined;\n                            error = err;\n                        }\n                    }\n                    if (!(_data && typeof _data.then === 'function')) return [3 /*break*/, 5];\n                    // `_data` is a promise\n                    isAsyncMutation = true;\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, _data];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _b.sent();\n                    error = err_1;\n                    return [3 /*break*/, 4];\n                case 4: return [3 /*break*/, 6];\n                case 5:\n                    data = _data;\n                    _b.label = 6;\n                case 6:\n                    shouldAbort = function () {\n                        // check if other mutations have occurred since we've started this mutation\n                        if (beforeMutationTs !== MUTATION_TS[key] ||\n                            beforeConcurrentPromisesTs !== CONCURRENT_PROMISES_TS[key]) {\n                            if (error)\n                                throw error;\n                            return true;\n                        }\n                    };\n                    // if there's a race we don't update cache or broadcast change, just return the data\n                    if (shouldAbort())\n                        return [2 /*return*/, data];\n                    if (typeof data !== 'undefined') {\n                        // update cached data\n                        cache.set(key, data);\n                    }\n                    // always update or reset the error\n                    cache.set(keyErr, error);\n                    // reset the timestamp to mark the mutation has ended\n                    MUTATION_END_TS[key] = now() - 1;\n                    if (!isAsyncMutation) {\n                        // we skip broadcasting if there's another mutation happened synchronously\n                        if (shouldAbort())\n                            return [2 /*return*/, data];\n                    }\n                    updaters = CACHE_REVALIDATORS[key];\n                    if (updaters) {\n                        promises = [];\n                        for (i = 0; i < updaters.length; ++i) {\n                            promises.push(updaters[i](!!shouldRevalidate, data, error, undefined, i > 0));\n                        }\n                        // return new updated value\n                        return [2 /*return*/, Promise.all(promises).then(function () {\n                                if (error)\n                                    throw error;\n                                return cache.get(key);\n                            })];\n                    }\n                    // throw error or return data to be used by caller of mutate\n                    if (error)\n                        throw error;\n                    return [2 /*return*/, data];\n            }\n        });\n    });\n};\nfunction useSWR() {\n    var _this = this;\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var _key = args[0];\n    var config = Object.assign({}, defaultConfig, useContext(SWRConfigContext), args.length > 2\n        ? args[2]\n        : args.length === 2 && typeof args[1] === 'object'\n            ? args[1]\n            : {});\n    // in typescript args.length > 2 is not same as args.lenth === 3\n    // we do a safe type assertion here\n    // args.length === 3\n    var fn = (args.length > 2\n        ? args[1]\n        : args.length === 2 && typeof args[1] === 'function'\n            ? args[1]\n            : /**\n                  pass fn as null will disable revalidate\n                  https://paco.sh/blog/shared-hook-state-with-swr\n                */\n                args[1] === null\n                    ? args[1]\n                    : config.fetcher);\n    // we assume `key` as the identifier of the request\n    // `key` can change but `fn` shouldn't\n    // (because `revalidate` only depends on `key`)\n    // `keyErr` is the cache key for error objects\n    var _a = cache.serializeKey(_key), key = _a[0], fnArgs = _a[1], keyErr = _a[2], keyValidating = _a[3];\n    var configRef = useRef(config);\n    useIsomorphicLayoutEffect(function () {\n        configRef.current = config;\n    });\n    var willRevalidateOnMount = function () {\n        return (config.revalidateOnMount ||\n            (!config.initialData && config.revalidateOnMount === undefined));\n    };\n    var resolveData = function () {\n        var cachedData = cache.get(key);\n        return typeof cachedData === 'undefined' ? config.initialData : cachedData;\n    };\n    var resolveIsValidating = function () {\n        return !!cache.get(keyValidating) || (key && willRevalidateOnMount());\n    };\n    var initialData = resolveData();\n    var initialError = cache.get(keyErr);\n    var initialIsValidating = resolveIsValidating();\n    // if a state is accessed (data, error or isValidating),\n    // we add the state to dependencies so if the state is\n    // updated in the future, we can trigger a rerender\n    var stateDependencies = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    var stateRef = useRef({\n        data: initialData,\n        error: initialError,\n        isValidating: initialIsValidating\n    });\n    // display the data label in the React DevTools next to SWR hooks\n    useDebugValue(stateRef.current.data);\n    var rerender = useState({})[1];\n    var dispatch = useCallback(function (payload) {\n        var shouldUpdateState = false;\n        for (var k in payload) {\n            // @ts-ignore\n            if (stateRef.current[k] === payload[k]) {\n                continue;\n            }\n            // @ts-ignore\n            stateRef.current[k] = payload[k];\n            // @ts-ignore\n            if (stateDependencies.current[k]) {\n                shouldUpdateState = true;\n            }\n        }\n        if (shouldUpdateState) {\n            // if component is unmounted, should skip rerender\n            // if component is not mounted, should skip rerender\n            if (unmountedRef.current || !initialMountedRef.current)\n                return;\n            rerender({});\n        }\n    }, \n    // config.suspense isn't allowed to change during the lifecycle\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // error ref inside revalidate (is last request errored?)\n    var unmountedRef = useRef(false);\n    var keyRef = useRef(key);\n    // check if component is mounted in suspense mode\n    var initialMountedRef = useRef(false);\n    // do unmount check for callbacks\n    var eventsCallback = useCallback(function (event) {\n        var _a;\n        var params = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            params[_i - 1] = arguments[_i];\n        }\n        if (unmountedRef.current)\n            return;\n        if (!initialMountedRef.current)\n            return;\n        if (key !== keyRef.current)\n            return;\n        // @ts-ignore\n        (_a = configRef.current)[event].apply(_a, params);\n    }, [key]);\n    var boundMutate = useCallback(function (data, shouldRevalidate) {\n        return mutate(keyRef.current, data, shouldRevalidate);\n    }, []);\n    var addRevalidator = function (revalidators, callback) {\n        if (!revalidators[key]) {\n            revalidators[key] = [callback];\n        }\n        else {\n            revalidators[key].push(callback);\n        }\n        return function () {\n            var keyedRevalidators = revalidators[key];\n            var index = keyedRevalidators.indexOf(callback);\n            if (index >= 0) {\n                // O(1): faster than splice\n                keyedRevalidators[index] =\n                    keyedRevalidators[keyedRevalidators.length - 1];\n                keyedRevalidators.pop();\n            }\n        };\n    };\n    // start a revalidation\n    var revalidate = useCallback(function (revalidateOpts) {\n        if (revalidateOpts === void 0) { revalidateOpts = {}; }\n        return __awaiter(_this, void 0, void 0, function () {\n            var _a, retryCount, _b, dedupe, loading, shouldDeduping, newData, startAt, newState, err_2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!key || !fn)\n                            return [2 /*return*/, false];\n                        if (unmountedRef.current)\n                            return [2 /*return*/, false];\n                        if (configRef.current.isPaused())\n                            return [2 /*return*/, false];\n                        _a = revalidateOpts.retryCount, retryCount = _a === void 0 ? 0 : _a, _b = revalidateOpts.dedupe, dedupe = _b === void 0 ? false : _b;\n                        loading = true;\n                        shouldDeduping = typeof CONCURRENT_PROMISES[key] !== 'undefined' && dedupe;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, , 7]);\n                        dispatch({\n                            isValidating: true\n                        });\n                        cache.set(keyValidating, true);\n                        if (!shouldDeduping) {\n                            // also update other hooks\n                            broadcastState(key, stateRef.current.data, stateRef.current.error, true);\n                        }\n                        newData = void 0;\n                        startAt = void 0;\n                        if (!shouldDeduping) return [3 /*break*/, 3];\n                        // there's already an ongoing request,\n                        // this one needs to be deduplicated.\n                        startAt = CONCURRENT_PROMISES_TS[key];\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 2:\n                        newData = _c.sent();\n                        return [3 /*break*/, 5];\n                    case 3:\n                        // if no cache being rendered currently (it shows a blank page),\n                        // we trigger the loading slow event.\n                        if (config.loadingTimeout && !cache.get(key)) {\n                            setTimeout(function () {\n                                if (loading)\n                                    eventsCallback('onLoadingSlow', key, config);\n                            }, config.loadingTimeout);\n                        }\n                        if (fnArgs !== null) {\n                            CONCURRENT_PROMISES[key] = fn.apply(void 0, fnArgs);\n                        }\n                        else {\n                            CONCURRENT_PROMISES[key] = fn(key);\n                        }\n                        CONCURRENT_PROMISES_TS[key] = startAt = now();\n                        return [4 /*yield*/, CONCURRENT_PROMISES[key]];\n                    case 4:\n                        newData = _c.sent();\n                        setTimeout(function () {\n                            delete CONCURRENT_PROMISES[key];\n                            delete CONCURRENT_PROMISES_TS[key];\n                        }, config.dedupingInterval);\n                        // trigger the success event,\n                        // only do this for the original request.\n                        eventsCallback('onSuccess', newData, key, config);\n                        _c.label = 5;\n                    case 5:\n                        // if there're other ongoing request(s), started after the current one,\n                        // we need to ignore the current one to avoid possible race conditions:\n                        //   req1------------------>res1        (current one)\n                        //        req2---------------->res2\n                        // the request that fired later will always be kept.\n                        if (CONCURRENT_PROMISES_TS[key] > startAt) {\n                            return [2 /*return*/, false];\n                        }\n                        // if there're other mutations(s), overlapped with the current revalidation:\n                        // case 1:\n                        //   req------------------>res\n                        //       mutate------>end\n                        // case 2:\n                        //         req------------>res\n                        //   mutate------>end\n                        // case 3:\n                        //   req------------------>res\n                        //       mutate-------...---------->\n                        // we have to ignore the revalidation result (res) because it's no longer fresh.\n                        // meanwhile, a new revalidation should be triggered when the mutation ends.\n                        if (MUTATION_TS[key] &&\n                            // case 1\n                            (startAt <= MUTATION_TS[key] ||\n                                // case 2\n                                startAt <= MUTATION_END_TS[key] ||\n                                // case 3\n                                MUTATION_END_TS[key] === 0)) {\n                            dispatch({ isValidating: false });\n                            return [2 /*return*/, false];\n                        }\n                        cache.set(keyErr, undefined);\n                        cache.set(keyValidating, false);\n                        newState = {\n                            isValidating: false\n                        };\n                        if (typeof stateRef.current.error !== 'undefined') {\n                            // we don't have an error\n                            newState.error = undefined;\n                        }\n                        if (!config.compare(stateRef.current.data, newData)) {\n                            // deep compare to avoid extra re-render\n                            // data changed\n                            newState.data = newData;\n                        }\n                        if (!config.compare(cache.get(key), newData)) {\n                            cache.set(key, newData);\n                        }\n                        // merge the new state\n                        dispatch(newState);\n                        if (!shouldDeduping) {\n                            // also update other hooks\n                            broadcastState(key, newData, newState.error, false);\n                        }\n                        return [3 /*break*/, 7];\n                    case 6:\n                        err_2 = _c.sent();\n                        delete CONCURRENT_PROMISES[key];\n                        delete CONCURRENT_PROMISES_TS[key];\n                        if (configRef.current.isPaused()) {\n                            dispatch({\n                                isValidating: false\n                            });\n                            return [2 /*return*/, false];\n                        }\n                        cache.set(keyErr, err_2);\n                        // get a new error\n                        // don't use deep equal for errors\n                        if (stateRef.current.error !== err_2) {\n                            // we keep the stale data\n                            dispatch({\n                                isValidating: false,\n                                error: err_2\n                            });\n                            if (!shouldDeduping) {\n                                // also broadcast to update other hooks\n                                broadcastState(key, undefined, err_2, false);\n                            }\n                        }\n                        // events and retry\n                        eventsCallback('onError', err_2, key, config);\n                        if (config.shouldRetryOnError) {\n                            // when retrying, we always enable deduping\n                            eventsCallback('onErrorRetry', err_2, key, config, revalidate, {\n                                retryCount: retryCount + 1,\n                                dedupe: true\n                            });\n                        }\n                        return [3 /*break*/, 7];\n                    case 7:\n                        loading = false;\n                        return [2 /*return*/, true];\n                }\n            });\n        });\n    }, \n    // dispatch is immutable, and `eventsCallback`, `fnArgs`, `keyErr`, and `keyValidating` are based on `key`,\n    // so we can them from the deps array.\n    //\n    // FIXME:\n    // `fn` and `config` might be changed during the lifecycle,\n    // but they might be changed every render like this.\n    // useSWR('key', () => fetch('/api/'), { suspense: true })\n    // So we omit the values from the deps array\n    // even though it might cause unexpected behaviors.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [key]);\n    // mounted (client side rendering)\n    useIsomorphicLayoutEffect(function () {\n        if (!key)\n            return undefined;\n        // after `key` updates, we need to mark it as mounted\n        unmountedRef.current = false;\n        var isUpdating = initialMountedRef.current;\n        initialMountedRef.current = true;\n        // after the component is mounted (hydrated),\n        // we need to update the data from the cache\n        // and trigger a revalidation\n        var currentHookData = stateRef.current.data;\n        var latestKeyedData = resolveData();\n        // update the state if the key changed (not the inital render) or cache updated\n        keyRef.current = key;\n        if (!config.compare(currentHookData, latestKeyedData)) {\n            dispatch({ data: latestKeyedData });\n        }\n        // revalidate with deduping\n        var softRevalidate = function () { return revalidate({ dedupe: true }); };\n        // trigger a revalidation\n        if (isUpdating || willRevalidateOnMount()) {\n            if (typeof latestKeyedData !== 'undefined' && !IS_SERVER) {\n                // delay revalidate if there's cache\n                // to not block the rendering\n                // @ts-ignore it's safe to use requestAnimationFrame in browser\n                rAF(softRevalidate);\n            }\n            else {\n                softRevalidate();\n            }\n        }\n        var pending = false;\n        var onFocus = function () {\n            if (pending || !configRef.current.revalidateOnFocus)\n                return;\n            pending = true;\n            softRevalidate();\n            setTimeout(function () { return (pending = false); }, configRef.current.focusThrottleInterval);\n        };\n        var onReconnect = function () {\n            if (configRef.current.revalidateOnReconnect) {\n                softRevalidate();\n            }\n        };\n        // register global cache update listener\n        var onUpdate = function (shouldRevalidate, updatedData, updatedError, updatedIsValidating, dedupe) {\n            if (shouldRevalidate === void 0) { shouldRevalidate = true; }\n            if (dedupe === void 0) { dedupe = true; }\n            // update hook state\n            var newState = {};\n            var needUpdate = false;\n            if (typeof updatedData !== 'undefined' &&\n                !config.compare(stateRef.current.data, updatedData)) {\n                newState.data = updatedData;\n                needUpdate = true;\n            }\n            // always update error\n            // because it can be `undefined`\n            if (stateRef.current.error !== updatedError) {\n                newState.error = updatedError;\n                needUpdate = true;\n            }\n            if (typeof updatedIsValidating !== 'undefined' &&\n                stateRef.current.isValidating !== updatedIsValidating) {\n                newState.isValidating = updatedIsValidating;\n                needUpdate = true;\n            }\n            if (needUpdate) {\n                dispatch(newState);\n            }\n            if (shouldRevalidate) {\n                if (dedupe) {\n                    return softRevalidate();\n                }\n                else {\n                    return revalidate();\n                }\n            }\n            return false;\n        };\n        var unsubFocus = addRevalidator(FOCUS_REVALIDATORS, onFocus);\n        var unsubReconnect = addRevalidator(RECONNECT_REVALIDATORS, onReconnect);\n        var unsubUpdate = addRevalidator(CACHE_REVALIDATORS, onUpdate);\n        return function () {\n            // cleanup\n            dispatch = function () { return null; };\n            // mark it as unmounted\n            unmountedRef.current = true;\n            unsubFocus();\n            unsubReconnect();\n            unsubUpdate();\n        };\n    }, [key, revalidate]);\n    useIsomorphicLayoutEffect(function () {\n        var timer = null;\n        var tick = function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(!stateRef.current.error &&\n                            (configRef.current.refreshWhenHidden ||\n                                configRef.current.isDocumentVisible()) &&\n                            (configRef.current.refreshWhenOffline || configRef.current.isOnline()))) return [3 /*break*/, 2];\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        return [4 /*yield*/, revalidate({ dedupe: true })];\n                    case 1:\n                        // only revalidate when the page is visible\n                        // if API request errored, we stop polling in this round\n                        // and let the error retry function handle it\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        // Read the latest refreshInterval\n                        if (configRef.current.refreshInterval && timer) {\n                            timer = setTimeout(tick, configRef.current.refreshInterval);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        if (configRef.current.refreshInterval) {\n            timer = setTimeout(tick, configRef.current.refreshInterval);\n        }\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n                timer = null;\n            }\n        };\n    }, [\n        config.refreshInterval,\n        config.refreshWhenHidden,\n        config.refreshWhenOffline,\n        revalidate\n    ]);\n    // suspense\n    var latestData;\n    var latestError;\n    if (config.suspense) {\n        // in suspense mode, we can't return empty state\n        // (it should be suspended)\n        // try to get data and error from cache\n        latestData = cache.get(key);\n        latestError = cache.get(keyErr);\n        if (typeof latestData === 'undefined') {\n            latestData = initialData;\n        }\n        if (typeof latestError === 'undefined') {\n            latestError = initialError;\n        }\n        if (typeof latestData === 'undefined' &&\n            typeof latestError === 'undefined') {\n            // need to start the request if it hasn't\n            if (!CONCURRENT_PROMISES[key]) {\n                // trigger revalidate immediately\n                // to get the promise\n                // in this revalidate, should not rerender\n                revalidate();\n            }\n            if (CONCURRENT_PROMISES[key] &&\n                typeof CONCURRENT_PROMISES[key].then === 'function') {\n                // if it is a promise\n                throw CONCURRENT_PROMISES[key];\n            }\n            // it's a value, return it directly (override)\n            latestData = CONCURRENT_PROMISES[key];\n        }\n        if (typeof latestData === 'undefined' && latestError) {\n            // in suspense mode, throw error if there's no content\n            throw latestError;\n        }\n    }\n    // define returned state\n    // can be memorized since the state is a ref\n    var memoizedState = useMemo(function () {\n        // revalidate will be deprecated in the 1.x release\n        // because mutate() covers the same use case of revalidate().\n        // This remains only for backward compatibility\n        var state = { revalidate: revalidate, mutate: boundMutate };\n        Object.defineProperties(state, {\n            error: {\n                // `key` might be changed in the upcoming hook re-render,\n                // but the previous state will stay\n                // so we need to match the latest key and data (fallback to `initialData`)\n                get: function () {\n                    stateDependencies.current.error = true;\n                    if (config.suspense) {\n                        return latestError;\n                    }\n                    return keyRef.current === key ? stateRef.current.error : initialError;\n                },\n                enumerable: true\n            },\n            data: {\n                get: function () {\n                    stateDependencies.current.data = true;\n                    if (config.suspense) {\n                        return latestData;\n                    }\n                    return keyRef.current === key ? stateRef.current.data : initialData;\n                },\n                enumerable: true\n            },\n            isValidating: {\n                get: function () {\n                    stateDependencies.current.isValidating = true;\n                    return key ? stateRef.current.isValidating : false;\n                },\n                enumerable: true\n            }\n        });\n        return state;\n        // `config.suspense` isn't allowed to change during the lifecycle.\n        // `boundMutate` is immutable, and the immutability of `revalidate` depends on `key`\n        // so we can omit them from the deps array,\n        // but we put it to enable react-hooks/exhaustive-deps rule.\n        // `initialData` and `initialError` are not initial values\n        // because they are changed during the lifecycle\n        // so we should add them in the deps array.\n    }, [\n        revalidate,\n        initialData,\n        initialError,\n        boundMutate,\n        key,\n        config.suspense,\n        latestError,\n        latestData\n    ]);\n    return memoizedState;\n}\nObject.defineProperty(SWRConfigContext.Provider, 'default', {\n    value: defaultConfig\n});\nvar SWRConfig = SWRConfigContext.Provider;\nexport { trigger, mutate, SWRConfig };\nexport default useSWR;\n","// `useSWR` and related APIs\nimport { default as useSWR } from './use-swr';\nexport default useSWR;\nexport * from './use-swr';\n// `useSWRInfinite`\nexport { useSWRInfinite } from './use-swr-infinite';\n// Cache related, to be replaced by the new APIs\nexport { cache } from './config';\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtype,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === Archtype.Object) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): Archtype {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? Archtype.Array\n\t\t: isMap(thing)\n\t\t? Archtype.Map\n\t\t: isSet(thing)\n\t\t? Archtype.Set\n\t\t: Archtype.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === Archtype.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === Archtype.Map) thing.set(propOrOldValue, value)\n\telse if (t === Archtype.Set) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: ProxyType.ES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: ProxyType.ES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ProxyType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ProxyType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyType,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyType.ProxyObject ||\n\t\tstate.type_ === ProxyType.ProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyType.ES5Object || state.type_ === ProxyType.ES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyType.Set ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyType\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyType.ProxyArray : (ProxyType.ProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\tstate.copy_![prop] === value &&\n\t\t\t// special case: NaN\n\t\t\ttypeof value !== \"number\" &&\n\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t(value !== undefined || prop in state.copy_)\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyType.ProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (\n\t\targ1: any,\n\t\targ2?: any,\n\t\targ3?: any\n\t): any => {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches) as any\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t) as any\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtype,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === Archtype.Set ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase Archtype.Map:\n\t\t\treturn new Map(value)\n\t\tcase Archtype.Set:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Don’t use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar useSessionStorage = function (key, initialValue, raw) {\n    if (!isBrowser) {\n        return [initialValue, function () { }];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () {\n        try {\n            var sessionStorageValue = sessionStorage.getItem(key);\n            if (typeof sessionStorageValue !== 'string') {\n                sessionStorage.setItem(key, raw ? String(initialValue) : JSON.stringify(initialValue));\n                return initialValue;\n            }\n            else {\n                return raw ? sessionStorageValue : JSON.parse(sessionStorageValue || 'null');\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. JSON.parse and JSON.stringify\n            // cat throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        try {\n            var serializedState = raw ? String(state) : JSON.stringify(state);\n            sessionStorage.setItem(key, serializedState);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. Also JSON.stringify can throw.\n        }\n    });\n    return [state, setState];\n};\nexport default useSessionStorage;\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name max\n * @category Common Helpers\n * @summary Return the latest of the given dates.\n *\n * @description\n * Return the latest of the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - `max` function now accepts an array of dates rather than spread arguments.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   var date1 = new Date(1989, 6, 10)\n *   var date2 = new Date(1987, 1, 11)\n *   var maxDate = max(date1, date2)\n *\n *   // v2.0.0 onward:\n *   var dates = [new Date(1989, 6, 10), new Date(1987, 1, 11)]\n *   var maxDate = max(dates)\n *   ```\n *\n * @param {Date[]|Number[]} datesArray - the dates to compare\n * @returns {Date} the latest of the dates\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which of these dates is the latest?\n * var result = max([\n *   new Date(1989, 6, 10),\n *   new Date(1987, 1, 11),\n *   new Date(1995, 6, 2),\n *   new Date(1990, 0, 1)\n * ])\n * //=> Sun Jul 02 1995 00:00:00\n */\n\nexport default function max(dirtyDatesArray) {\n  requiredArgs(1, arguments);\n  var datesArray; // `dirtyDatesArray` is Array, Set or Map, or object with custom `forEach` method\n\n  if (dirtyDatesArray && typeof dirtyDatesArray.forEach === 'function') {\n    datesArray = dirtyDatesArray; // If `dirtyDatesArray` is Array-like Object, convert to Array.\n  } else if (typeof dirtyDatesArray === 'object' && dirtyDatesArray !== null) {\n    datesArray = Array.prototype.slice.call(dirtyDatesArray);\n  } else {\n    // `dirtyDatesArray` is non-iterable, return Invalid Date\n    return new Date(NaN);\n  }\n\n  var result;\n  datesArray.forEach(function (dirtyDate) {\n    var currentDate = toDate(dirtyDate);\n\n    if (result === undefined || result < currentDate || isNaN(Number(currentDate))) {\n      result = currentDate;\n    }\n  });\n  return result || new Date(NaN);\n}","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"sourceRoot":""}